{# Search Results Template #}
{% set emoji = config.options.use_emojis if config and config.options else true %}
{% set hierarchical = config.options.use_hierarchical_structure if config and config.options else true %}
{% set show_centrality = config.options.include_centrality_scores if config and config.options else true %}
{% set show_impact = config.options.include_impact_risk if config and config.options else true %}

{% if emoji %}ğŸ” Search Results{% else %}Search Results{% endif %}
{{ "=" * 60 }}

{% if emoji %}ğŸ“Š{% endif %} QUERY: "{{ data.query }}"
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} Match Type: {{ data.match_type }}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} Strategy: {{ data.search_strategy }}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} Threshold: {{ data.threshold | format_percentage }}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} Total Results: {{ data.total_results }}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} Execution Time: {{ data.execution_time | format_duration }}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} Token Count: {{ data.token_count }}/{{ data.max_tokens }}
{% if hierarchical %}â””â”€â”€{% else %}â€¢{% endif %} Compression: {{ data.compression_level }}

{% if data.cache_hit %}
{% if emoji %}ğŸ’¾{% endif %} Result from cache
{% endif %}

{% if data.results %}
{% if emoji %}ğŸ¯{% endif %} RESULTS:
{% for result in data.results %}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} {{ result.name }}
{% if hierarchical %}â”‚   {% else %}  {% endif %}File: {{ result.file_path }}
{% if hierarchical %}â”‚   {% else %}  {% endif %}Line: {{ result.line_number }}
{% if hierarchical %}â”‚   {% else %}  {% endif %}Type: {{ result.symbol_type }}
{% if hierarchical %}â”‚   {% else %}  {% endif %}Score: {{ result.importance_score | format_percentage }}
{% if result.is_critical %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}{% if emoji %}â­{% endif %} Critical Match
{% endif %}
{% if show_centrality and result.centrality_score %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}{% if emoji %}ğŸ“Š{% endif %} Centrality: {{ result.centrality_score | format_centrality }}
{% endif %}
{% if show_impact and result.impact_risk %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}{% if emoji %}âš ï¸{% endif %} Impact Risk: {{ result.impact_risk | get_risk_level }} ({{ result.impact_risk | format_percentage }})
{% endif %}
{% if result.signature %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}Signature: {{ result.signature }}
{% endif %}
{% if result.critical_lines %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}{% if emoji %}ğŸ”{% endif %} Critical Lines:
{% for line in result.critical_lines %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}  {{ line }}
{% endfor %}
{% endif %}
{% if result.dependencies %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}{% if emoji %}ğŸ”—{% endif %} Dependencies:
{% for dep in result.dependencies %}
{% if hierarchical %}â”‚   {% else %}  {% endif %}  - {{ dep }}
{% endfor %}
{% endif %}
{% if not loop.last %}
{% if hierarchical %}â”‚{% endif %}
{% endif %}
{% endfor %}
{% else %}
{% if emoji %}âŒ{% endif %} No results found
{% endif %}

{% if data.performance_metrics %}
{% if emoji %}âš¡{% endif %} PERFORMANCE METRICS:
{% for key, value in data.performance_metrics.items() %}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} {{ key | title }}: {{ value }}
{% endfor %}
{% endif %}

{% if data.metadata %}
{% if emoji %}ğŸ“‹{% endif %} METADATA:
{% for key, value in data.metadata.items() %}
{% if hierarchical %}â”œâ”€â”€{% else %}â€¢{% endif %} {{ key | title }}: {{ value }}
{% endfor %}
{% endif %}
