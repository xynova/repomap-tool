{# Search Response Template #}
{% set emoji = config.options.use_emojis if config and config.options else true %}
{% set hierarchical = config.options.use_hierarchical_structure if config and config.options else true %}
{% set show_centrality = config.options.include_centrality_scores if config and config.options else true %}
{% set show_impact = config.options.include_impact_risk if config and config.options else true %}

{% if emoji %}🔍 Search Results{% else %}Search Results{% endif %}
{{ "=" * 60 }}

{% if emoji %}📊{% endif %} QUERY: "{{ data.query }}"
{% if hierarchical %}├──{% else %}•{% endif %} Match Type: {{ data.match_type }}
{% if hierarchical %}├──{% else %}•{% endif %} Threshold: {{ data.threshold | format_percentage }}
{% if hierarchical %}├──{% else %}•{% endif %} Total Results: {{ data.total_results }}
{% if hierarchical %}└──{% else %}•{% endif %} Search Time: {{ data.search_time_ms | format_duration }}

{% if data.results %}
{% if emoji %}🎯{% endif %} RESULTS:
{% for result in data.results %}
{% if hierarchical %}├──{% else %}•{% endif %} {{ result.identifier }}
{% if hierarchical %}│   {% else %}  {% endif %}File: {{ result.file_path }}
{% if hierarchical %}│   {% else %}  {% endif %}Line: {{ result.line_number }}
{% if hierarchical %}│   {% else %}  {% endif %}Score: {{ result.score | format_percentage }}
{% if show_centrality and result.centrality_score %}
{% if hierarchical %}│   {% else %}  {% endif %}{% if emoji %}📊{% endif %} Centrality: {{ result.centrality_score | format_centrality }}
{% endif %}
{% if show_impact and result.impact_risk %}
{% if hierarchical %}│   {% else %}  {% endif %}{% if emoji %}⚠️{% endif %} Impact Risk: {{ result.impact_risk | get_risk_level }} ({{ result.impact_risk | format_percentage }})
{% endif %}
{% if not loop.last %}
{% if hierarchical %}│{% endif %}
{% endif %}
{% endfor %}
{% else %}
{% if emoji %}❌{% endif %} No results found
{% endif %}
